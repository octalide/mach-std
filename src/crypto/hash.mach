use std.types.size;

use std.collections.slice;

# simple fnv-1a 64-bit for identifiers/maps
val FNV_OFFSET64: u64 = 14695981039346656037;
val FNV_PRIME64:  u64 = 1099511628211;

fun fnv1a64(data: Slice[u8]) u64 {
    var h: u64 = FNV_OFFSET64;

    var i: usize = 0;
    for (i < data.len) {
        h = h ^ (data.data[i]::u64);
        h = h * FNV_PRIME64;
        i = i + 1;
    }

    ret h;
}
