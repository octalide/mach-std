use std.text.ascii;
use std.types.size;

# integer parsing helpers (subset)
pub fun parse_u64_dec(s: []u8) u64 {
    var i: usize = 0;
    var v: usize = 0;
    for (i < s.len) {
        val d: i32 = digit_val(s[i]);

        if (d < 0) { brk; }
        if (d > 9) { brk; }

        v = v * 10 + (d::u64);
        i = i + 1;
    }

    ret v::u64;
}

pub fun parse_u64_hex(s: []u8) u64 {
    var i: usize = 0;
    var v: usize = 0;
    for (i < s.len) {
        val d: i32 = digit_val(s[i]);

        if (d < 0)  { brk; }
        if (d > 15) { brk; }

        v = (v << 4) | (d::u64);
        i = i + 1;
    }

    ret v::u64;
}
